<div class="max-w-xl mx-auto bg-white rounded-lg shadow-md p-8 mt-8">
  <form (ngSubmit)="save()" #adminForm="ngForm" autocomplete="off">
    <h2 class="text-2xl font-bold mb-6 text-center">
      {{ isEditMode ? "تعديل بيانات المدير" : "إضافة مدير جديد" }}
    </h2>

    @if(isEditMode) {
    <button
      type="button"
      class="bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition w-fit mb-4 hover:cursor-pointer"
      (click)="deleteAdmin()"
    >
      حذف
    </button>
    }

    <div class="mb-4">
      <label class="block mb-2 text-gray-700">اسم المستخدم</label>
      <input
        type="text"
        class="w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
        [(ngModel)]="admin.username"
        name="username"
        required
      />
    </div>
    <div class="mb-4">
      <label class="block mb-2 text-gray-700">الاسم</label>
      <input
        type="text"
        class="w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
        [(ngModel)]="admin.name"
        name="name"
        required
      />
    </div>

    <div class="mb-4">
      <label class="block mb-2 text-gray-700">الرقم السرى</label>
      <input
        type="text"
        class="w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
        [(ngModel)]="admin.password"
        name="password"
        required
      />
    </div>
    <div class="mb-4 grid grid-cols-1 sm:grid-cols-2 gap-4">
      <label class="flex items-center space-x-2">
        <input
          type="checkbox"
          [(ngModel)]="admin.addNominations"
          name="addNominations"
          class="accent-blue-600"
        />
        <span>إضافة ترشيحات</span>
      </label>
      <label class="flex items-center space-x-2">
        <input
          type="checkbox"
          [(ngModel)]="admin.viewPrintReports"
          name="viewPrintReports"
          class="accent-blue-600"
        />
        <span>عرض/طباعة التقارير</span>
      </label>
      <label class="flex items-center space-x-2">
        <input
          type="checkbox"
          [(ngModel)]="admin.addFees"
          name="addFees"
          class="accent-blue-600"
        />
        <span>إضافة رسوم</span>
      </label>
      <label class="flex items-center space-x-2">
        <input
          type="checkbox"
          [(ngModel)]="admin.addEnrollmentData"
          name="addEnrollmentData"
          class="accent-blue-600"
        />
        <span>إضافة بيانات القيد</span>
      </label>
      <label class="flex items-center space-x-2">
        <input
          type="checkbox"
          [(ngModel)]="admin.printPermissions"
          name="printPermissions"
          class="accent-blue-600"
        />
        <span>تصاريح الطباعة</span>
      </label>
      <label class="flex items-center space-x-2">
        <input
          type="checkbox"
          [(ngModel)]="admin.superAdmin"
          name="superAdmin"
          class="accent-blue-600"
        />
        <span>مدير عام</span>
      </label>
    </div>
    <button
      type="submit"
      class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition mt-6 hover:cursor-pointer"
      [disabled]="loading"
    >
      {{ isEditMode ? "حفظ التعديلات" : "إضافة المدير" }}
    </button>
    @if(loading) {

    <div class="w-full text-center mt-4">جاري الحفظ...</div>
    } @if(error) {

    <div class="text-red-600 text-center mt-4">{{ error }}</div>
    }
  </form>
</div>
